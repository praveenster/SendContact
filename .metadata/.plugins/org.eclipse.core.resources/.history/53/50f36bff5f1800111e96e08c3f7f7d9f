package org.pravin.android.sendcontact;

import android.app.Activity;
import android.database.Cursor;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;

public class ListContactsActivity extends Activity {
    private ListView contactsList; 
	/** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        contactsList = (ListView) findViewById(R.id.listContacts);
        
        populateContactList();
    }
	private void populateContactList() {
		Cursor cursor = getContacts();
		String[] fields = new String[] {
			ContactsContract.Data.DISPLAY_NAME
		};
	    SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.main, cursor,
	                fields, new int[] {R.id.listContacts});
	        contactsList.setAdapter(adapter);
	}
	private Cursor getContacts() {
		Uri uri = ContactsContract.Contacts.CONTENT_URI;
		String[] projection = new String[] {
				ContactsContract.Contacts._ID,
				ContactsContract.Contacts.DISPLAY_NAME,
				ContactsContract.PhoneLookup.NUMBER
		};
		String selection = null, selectionArgs[] = null, sortOrder = ContactsContract.Contacts.DISPLAY_NAME + "COLLATE LOACALIZED ASC";
	}
}